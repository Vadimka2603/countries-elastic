Занятие 1

1. Вступление. Программа формата Страны и города.
2. Выкачиваем репозиторий, устанавливаем базу и гемы, включая chewy
3. Устанавливаем elasticsearch. Запускаем его, прописываем автозапуск

brew update

brew cask install homebrew/cask-versions/java8

brew install elasticsearch

brew services start elasticsearch

curl -X GET http://localhost:9200/_cat/health

curl -X GET http://localhost:9200/

rails g chewy:install

4. Создание простого индекса.
  - прописываем базовый индекс с аналайзером и простыми настройками. Обсуждение что там и к чему.
  - прописываем простой индекс стран по title
  - тестируем поиск https://github.com/toptal/chewy/blob/master/lib/chewy/search/loader.rb
5. Обновляем модель, прописываем колбеки под обновление


Занятие 2

1. Прописыаем belongs_to модель в индекс
  - применяем методы на аттрибуты города
  - прописываем интежер поле
  - прописываем поля с условиями
  - прописываем аттрибуты по которым не будет поиска
  - тестируем поиск по аттрибутам
  - тач + тест
2. Усложняем выборку
  - добавляем сортировку
  - добавляем фильтры https://www.elastic.co/guide/en/elasticsearch/reference/6.4/query-dsl-bool-query.html
  - добавляем буст факторы
  - добавляем минимальное попадание

Занятие 3

1. Пробуем хайлайты
2. Пробуем саггесты
3. Усложняем маппинг
  - прописываем стоп слова
  - вводим замену переменной
  - вводим замены слов
  - подключим в индекс английское название стран
  - прописываем координаты как geo поле индекса
4. Подключаем морфологию и тестируем склонения (https://github.com/imotov/elasticsearch-analysis-morphology)

На каждом этапе придумываем различные задачи, которые могут пригодиться

Гем по полнотекстовому поиску на Pgrs